<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contador</title>
  </head>
  <body>
    <h1>
      Contador: <span id="count"></span> de las veces que has entrado a la
      pagina
    </h1>
    <h1>
      Contador cookies: <span id="countCookie"></span> de las veces que has
      entrado a la pagina
    </h1>

    <script>
      // LocalStorage

      const countHtml = document.getElementById("count");

      if (!localStorage.getItem("count")) {
        localStorage.setItem("count", "0");
      }

      const countV1 = parseInt(localStorage.getItem("count"));
      localStorage.setItem("count", countV1 + 1);
      countHtml.textContent = countV1 + 1;

      // Cookies

      const countCookieHtml = document.getElementById("countCookie");
      const DURATIONCOOKIESEG = 60 * 60 * 24 * 365;

      if (document.cookie == "") {
        document.cookie = `count=0; max-age=${DURATIONCOOKIESEG}`;
      }

      const numberCount = document.cookie.split("; ")[0].split("=")[1];
      console.log("COOKIE CONTADOR:", document.cookie);

      const count = parseInt(numberCount) + 1;
      document.cookie = `count=${count}; max-age=${DURATIONCOOKIESEG}`;
      countCookieHtml.textContent = count;
    </script>
  </body>
</html>
